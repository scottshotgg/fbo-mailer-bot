<html>
<head>
	<title>
		FBO-Mailer Signup!
	</title>
</head>

<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

	<div id="pagetitle"><h1><center>FBO-Mailer Signup</center></h1></div><br><br><br>

	<!--<center><form id="personal" name="personal" action="/validate" onsubmit="return validatePersonalInformation()">-->
	<center>
		First name:<br>
		<input type="text" name="firstname"><br><br>
		Last name:<br>
		<input type="text" name="lastname"><br><br>
		Net ID:<br>
		<input type="text" name="netid"><br><br>
		Username:<br>
		<input type="text" name="username"><br><br>
		Email:<br>
		<input type="text" name="email"><br><br>
		Password:<br>
		<input type="text" name="password"><br><br>
		Confirm Password:<br>
		<input type="text" name="confirm"><br><br>

		You will choose your search preferences on the next page.<br><br><br>

		<button id="continue_button" onclick="validatePersonalInformation()">Continue</button>
		<!--</form></center>-->
	</center>
	<script>
		function validatePersonalInformation() {
			if([].slice.call($("input")).every((input) => {
				console.log('hi');
				return input.value;
			})) {
				console.log('ajax request dawg');
				$.ajax({
				  type: "POST",
				  url: '/validate',
				  dataType: 'json',
				  data: Object.assign(...$("input").map((id, input) => {
							return {[input.name]: input.value};
						})),
				  success: (result) => {
				  	window.location.href = "/preferences";
				  },
				  error: (result) => {
				  	console.log("error", result)
				  }
				});
			}

		}
	</script>

</body>
</html>